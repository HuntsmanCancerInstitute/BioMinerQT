<div class="container-fluid">
	
	<div class="row">
	    <span class="section-header">Create Analysis</span>
		<form class="form-horizontal" name="resultForm">
			<fieldset>
		
		<div class="row">
		
			<!-- Name -->	
			<div class="form-group">
				<label class="col-md-4 control-label" for="analysis_result_name">Name</label>  
				<div class="col-md-5">
			  		<input id="analysis_result_name" ng-model="result.name" placeholder="name" class="form-control input-sm" type="text" required>
				</div>
			</div> 
			
			<!-- Description -->
			<div class="form-group">
				<label class="col-md-4 control-label" for="analysis_description">Description</label>
				<div class="col-md-5">
			  		<textarea class="form-control input-sm" placeholder="method / description" ng-model="result.description" id="analysis_description"></textarea>
				</div>
			</div> 
			
			<!-- Date -->
			<div class="form-group">
				<label class="col-md-4 control-label" for="">Date</label>
				<div class="col-md-5">
					 <p class="input-group">
		              <input type="text" class="form-control input-sm" datepicker-popup="MM/dd/yyyy" ng-model="result.date" is-open="datepicker.opened" close-text="Close" required />
		              <span class="input-group-btn">
		                <button class="btn btn-default btn-sm" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
		              </span>
		        	</p>
	        	</div>
			</div> 
			
	
			<!-- Analysis Type -->
			<div class="form-group">
				<label class="col-md-4 control-label" for="analysis_type">Analysis type</label>
				<div class="col-md-5">  
					<select id="analysis_type" ng-model="result.analysisType" ng-options="at as at.type for at in analysisTypeList track by at.idAnalysisType" class="form-control input-sm" required>
					<option value="">Select analysis type...</option>
					</select>			
				</div>
			</div>
			
			<!--Files -->
			<div class="form-group">
				<label class="col-md-4 control-label" for="applicable_files">Files</label>
				<div class="col-md-5">  
				  <select id="applicable_files" class="form-control input-sm" ng-model="result.file"  ng-options="file as file.name for file in files.importedFiles track by file.idFileUpload" options-disabled="((file.isAnalysisSet || !file.doesAnalysisMatch) && file.idFileUpload != result.file.idFileUpload) for file in files.importedFiles" required>
					<option value="">Select analysis file...</option>
				  </select> 
				</div>	
			</div> 
			
			<!-- Samples -->
			<div class="form-group">
				<label class="col-md-4 control-label" for="applicable_samples">Samples</label>
				<div class="col-md-5">
				  	<select width="100" id="applicable_samples" data-placeholder="Select samples..." ng-model="result.samples" chosen multiple class="form-control chosen-select" ng-options="sample as sample.name for sample in samples track by sample.idSample" required> 
				    </select>
				</div>	
			</div> 
			
			<!-- Data Tracks -->
			<div class="form-group">
				<label class="col-md-4 control-label" for="applicable_datatracks">Data tracks</label>
				<div class="col-md-5">
				  <select width="100" id="applicable_datatracks" data-placeholder="Select dataTracks..." ng-model="result.dataTracks" chosen multiple class="form-control chosen-select"  ng-options="dt as dt.name for dt in datatracks track by dt.idDataTrack" required>
				  </select> 
				</div>	
			</div> 
			
			<!-- Add/Save buttons  -->
			
			<div class="form-group">
			  	<label class="col-md-4 control-label" for=""></label>  
				<div class="col-md-5 animate-switch-container" ng-switch on="resultEditMode">
					<button id="add_result_button"  class="animate-switch btn btn-primary btn-sm" ng-switch-when="false" ng-click="addResult(result)" ng-disabled="resultForm.$invalid">Add</button>
					<button id="save_result_button" class="animate-switch btn btn-primary btn-sm" ng-switch-when="true" ng-click="saveResult(result)" ng-disabled="resultForm.$invalid">Save</button>
					<button id="save_sample_button" class="animate-switch btn btn-warning btn-sm" ng-click="clearResult()">Clear</button>
				</div>
			</div>
			
			
			
		</div> <!--  end row -->

		</fieldset>
		</form>
	</div> <!--  end form  -->
	
	<div class="row well" ng-show="results.length > 0">
		<div class="col-md-12">
			<table class="table table-striped table-hover">
			    <thead>
			        <tr>
			            <th >Name</th>
			            <th >Description</th>
			            <th >Date</th>
			            <th >Analysis Type</th>
			            <th >Files</th>
			            <th >Samples</th>
			            <th >Data Tracks</th>
			            <th ></th>
			        </tr>
			    </thead>
			    <tbody>
			        <tr ng-repeat="result in results" ng-mouseenter="hideResultControls(result)" ng-mouseleave="hideResultControls(result)">
			            <td>{{result.name}}</td>
			            <td>{{result.description}}</td>
			            <td>{{result.date | date:'MM/dd/yyyy'}}</td>
			            <td>{{result.analysisType.type}}</td>
			            <td>{{result.file.name}}</div></td>
			            <td><div ng-repeat="sample in result.samples">{{sample.name}}<br></div></td>
			            <td><div ng-repeat="dt in result.dataTracks">{{dt.name}}<br></div></td>
			            <td>
				            <div ng-show="result.show">
				            	<button class="btn btn-xs btn-primary" ng-click="editResult(result)" data-toggle="tooltip" data-placement="top" title="edit">
					        		<span class="glyphicon glyphicon-pencil"></span>
				                </button>
				                <button class="btn btn-xs btn-danger" ng-click="removeResult(result)" data-toggle="tooltip" data-placement="top" title="remove">
				                 	<span class="glyphicon glyphicon-trash"></span>
				                </button>
				            </div>
			            </td>

			        </tr>
			    </tbody>
			</table>
		
		
		</div> <!-- end col -->
	</div> <!-- end row -->
</div> <!--  end container -->





